<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="editor.css">
    <script src="/js/jquery-1.8.3.min.js" type='text/javascript'></script>
    <!--[if lte IE 8]>
    <script language="javascript" type="text/javascript" src="/js/flot/excanvas.min.js"></script><![endif]-->
    <script src="/js/jquery.flot.min.js"></script>
    <script src="/js/jquery.flot.symbol.js"></script>
    <script src="/js/jquery.flot.axislabels.js"></script>
    <script src="/js/jshashtable-3.0.js"></script>
    <script src="/js/jquery.numberformatter-1.2.3.min.js"></script>
    <script src="/js/csv.js"></script>
    <script src="js/d3.min.js"></script>
    <script type="text/javascript" src="/TRjs/tr.js"></script>

</head>
<body>
<h2 id="chartTitle">
    听云APP IOS SDK 性能测试报告</h2>

<p>
    Summary</p>
<table border="1">
    <caption id="TestENV">
        SDK-2.0.8 手机类型:iPhone 4s，操作系统版本：iOS 7.0.2
    </caption>
    <tr>
        <th>
            测试版本
        </th>
        <th>
            CPU平均值（%）
        </th>
        <th>
            CPU标准差
        </th>
        <th>
            CPU中位数
        </th>
        <th>
            Memory平均值(Mb)
        </th>
        <th>
            Memory标准差
        </th>
        <th>
            Memory中位数
        </th>
        <th>
            Duration平均值（ms）
        </th>
        <th>
            Duration标准差
        </th>
        <th>
            Duration中位数
        </th>
    </tr>
    <tr>
        <td>
            未嵌码
        </td>
        <td id="oschina00"></td>
        <td id="oschina01"></td>
        <td id="oschina02"></td>
        <td id="oschina03"></td>
        <td id="oschina04"></td>
        <td id="oschina05"></td>
        <td id="oschina06"></td>
        <td id="oschina07"></td>
        <td id="oschina08"></td>
    </tr>
    <tr>
        <td>
            SDK1.0
        </td>
        <td id="oschina10"></td>
        <td id="oschina11"></td>
        <td id="oschina12"></td>
        <td id="oschina13"></td>
        <td id="oschina14"></td>
        <td id="oschina15"></td>
        <td id="oschina16"></td>
        <td id="oschina17"></td>
        <td id="oschina18"></td>
    </tr>
    <tr>
        <td>
            SDK2.0
        </td>
        <td id="oschina20"></td>
        <td id="oschina21"></td>
        <td id="oschina22"></td>
        <td id="oschina23"></td>
        <td id="oschina24"></td>
        <td id="oschina25"></td>
        <td id="oschina26"></td>
        <td id="oschina27"></td>
        <td id="oschina28"></td>
    </tr>
</table>
<br>
<!--<table border="1">
    <tr>
        <th>嵌码与不嵌码比值</th>
        <th>CPU百分比</th>
        <th>Memory百分比</th>
        <th>Duration百分比</th>
    </tr>
    <tr>
        <td>SDK1.0</td>
        <td id="cpuPer1"></td>
        <td id="memPer1"></td>
        <td id="durPer1"></td>
    </tr>
    <tr>
        <td>SDK2.0</td>
        <td id="cpuPer2"></td>
        <td id="memPer2"></td>
        <td id="durPer2"></td>
    </tr>
</table>
-->
<p>
    折线图</p>
<br/>

<div style="width: 900px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder1" style="width: 100%; height: 100%;">
    </div>
</div>
<div style="width: 900px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder2" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 900px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder3" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>
<a href="/Android.html">Android 性能测试报告</a>
<a href="/home.html">IOS性能测试报告(旧版)</a>
<!--Test input data for table data-->
<script>

    /*
     * 解析HttpUrlConnetion数据
     * */
    var versions = 3;
    var classname_HU = "oschina";
    var flag_HU = Array();
    var srcData_HU = Array();
    var mathData_HU = Array();
    var srcFile_HU = Array();

    for (var i = 0; i < versions; i++) {

        flag_HU[i] = false;
        srcData_HU[i] = Array();
        mathData_HU[i] = Array();
        srcFile_HU[i] = "/data/ios/" + classname_HU + "_" + i + ".csv";

    }
    d3.csv(srcFile_HU[0], function (data) {
        //no sdk cpu,mem,duration source data
        srcData_HU[0] = parseData_IOS(data);
        flag_HU[0] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile_HU[1], function (data) {
        srcData_HU[1] = parseData_IOS(data);
        flag_HU[1] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile_HU[2], function (data) {
        srcData_HU[2] = parseData_IOS(data);
        flag_HU[2] = true;
        //console.log(srcData[i]);
    });

    function clock() {
        //var t=new Date();
        // document.getElementById("clock").value=t;

        if (flag_HU[0] && flag_HU[1] && flag_HU[2]) {

            isFinished = window.clearInterval(isFinished);


            //data ready, start handling

            setData_HU(classname_HU, 0);
            setData_HU(classname_HU, 1);
            setData_HU(classname_HU, 2);


//            displayData(
//                    srcData_HU[0], srcData_HU[1], srcData_HU[2],
//                    srcData[0], srcData[1], srcData[2],
//                    srcData_OH[0], srcData_OH[1], srcData_OH[2]
//            );
            displayData2(srcData_HU[0], srcData_HU[1], srcData_HU[2], "flot-placeholder1", "flot-placeholder2", "flot-placeholder3");

        }
    }

    var isFinished = self.setInterval(clock, 50);

    var previousPoint = null, previousLabel = null;

</script>
</body>
</html>
