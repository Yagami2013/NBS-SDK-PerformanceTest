<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="editor.css">

    <script src="/js/jquery-1.8.3.min.js" type='text/javascript'></script>
    <!--[if lte IE 8]>
    <script language="javascript" type="text/javascript" src="/js/flot/excanvas.min.js"></script><![endif]-->
    <script src="/js/jquery.flot.min.js"></script>
    <script src="/js/jquery.flot.symbol.js"></script>
    <script src="/js/jquery.flot.axislabels.js"></script>
    <script src="/js/jshashtable-3.0.js"></script>
    <script src="/js/jquery.numberformatter-1.2.3.min.js"></script>
    <script src="/js/csv.js"></script>
    <script src="js/d3.min.js"></script>
    <script type="text/javascript" src="/TRjs/tr.js"></script>

</head>
<body>
<h2 id="chartTitle">
    听云APP Android SDK 性能测试报告</h2>
<b>设备类型:Android phone，操作系统版本：Android 4.4</b>
<!--table 1:HttpURLConnection-->
<table border="1">
    <caption>
        <b> HttpURLConnection性能对比</b>
    </caption>
    <tr>
        <th>测试版本</th>
        <th>CPU平均值（%）</th>
        <th>CPU标准差</th>
        <th>CPU中位数</th>
        <th>Memory平均值(Mb)</th>
        <th>Memory标准差</th>
        <th>Memory中位数</th>
        <th>Duration平均值（ms）</th>
        <th>Duration标准差</th>
        <th>Duration中位数</th>
    </tr>
    <tr>
        <td>未嵌码</td>
        <td id="URLConnection00"></td>
        <td id="URLConnection01"></td>
        <td id="URLConnection02"></td>
        <td id="URLConnection03"></td>
        <td id="URLConnection04"></td>
        <td id="URLConnection05"></td>
        <td id="URLConnection06"></td>
        <td id="URLConnection07"></td>
        <td id="URLConnection08"></td>
    </tr>
    <tr>
        <td>SDK1.0</td>
        <td id="URLConnection10"></td>
        <td id="URLConnection11"></td>
        <td id="URLConnection12"></td>
        <td id="URLConnection13"></td>
        <td id="URLConnection14"></td>
        <td id="URLConnection15"></td>
        <td id="URLConnection16"></td>
        <td id="URLConnection17"></td>
        <td id="URLConnection18"></td>
    </tr>
    <tr>
        <td>SDK2.0</td>
        <td id="URLConnection20"></td>
        <td id="URLConnection21"></td>
        <td id="URLConnection22"></td>
        <td id="URLConnection23"></td>
        <td id="URLConnection24"></td>
        <td id="URLConnection25"></td>
        <td id="URLConnection26"></td>
        <td id="URLConnection27"></td>
        <td id="URLConnection28"></td>
    </tr>
</table>
<!--table 1:HttpClient-->
<table border="1">
    <caption>
        <b>HttpClient性能对比</b>
    </caption>
    <tr>
        <th>测试版本</th>
        <th>CPU平均值（%）</th>
        <th>CPU标准差</th>
        <th>CPU中位数</th>
        <th>Memory平均值(Mb)</th>
        <th>Memory标准差</th>
        <th>Memory中位数</th>
        <th>Duration平均值（ms）</th>
        <th>Duration标准差</th>
        <th>Duration中位数</th>
    </tr>
    <tr>
        <td>未嵌码</td>
        <td id="HttpClient00"></td>
        <td id="HttpClient01"></td>
        <td id="HttpClient02"></td>
        <td id="HttpClient03"></td>
        <td id="HttpClient04"></td>
        <td id="HttpClient05"></td>
        <td id="HttpClient06"></td>
        <td id="HttpClient07"></td>
        <td id="HttpClient08"></td>
    </tr>
    <tr>
        <td>SDK1.0</td>
        <td id="HttpClient10"></td>
        <td id="HttpClient11"></td>
        <td id="HttpClient12"></td>
        <td id="HttpClient13"></td>
        <td id="HttpClient14"></td>
        <td id="HttpClient15"></td>
        <td id="HttpClient16"></td>
        <td id="HttpClient17"></td>
        <td id="HttpClient18"></td>
    </tr>
    <tr>
        <td>SDK2.0</td>
        <td id="HttpClient20"></td>
        <td id="HttpClient21"></td>
        <td id="HttpClient22"></td>
        <td id="HttpClient23"></td>
        <td id="HttpClient24"></td>
        <td id="HttpClient25"></td>
        <td id="HttpClient26"></td>
        <td id="HttpClient27"></td>
        <td id="HttpClient28"></td>
    </tr>
</table>
<table border="1">
    <caption>
        <b>OkHttp性能对比</b>
    </caption>
    <tr>
        <th>测试版本</th>
        <th>CPU平均值（%）</th>
        <th>CPU标准差</th>
        <th>CPU中位数</th>
        <th>Memory平均值(Mb)</th>
        <th>Memory标准差</th>
        <th>Memory中位数</th>
        <th>Duration平均值（ms）</th>
        <th>Duration标准差</th>
        <th>Duration中位数</th>
    </tr>
    <tr>
        <td>未嵌码</td>
        <td id="OkHttp00"></td>
        <td id="OkHttp01"></td>
        <td id="OkHttp02"></td>
        <td id="OkHttp03"></td>
        <td id="OkHttp04"></td>
        <td id="OkHttp05"></td>
        <td id="OkHttp06"></td>
        <td id="OkHttp07"></td>
        <td id="OkHttp08"></td>
    </tr>
    <tr>
        <td>SDK1.0</td>
        <td id="OkHttp10"></td>
        <td id="OkHttp11"></td>
        <td id="OkHttp12"></td>
        <td id="OkHttp13"></td>
        <td id="OkHttp14"></td>
        <td id="OkHttp15"></td>
        <td id="OkHttp16"></td>
        <td id="OkHttp17"></td>
        <td id="OkHttp18"></td>
    </tr>
    <tr>
        <td>SDK2.0</td>
        <td id="OkHttp20"></td>
        <td id="OkHttp21"></td>
        <td id="OkHttp22"></td>
        <td id="OkHttp23"></td>
        <td id="OkHttp24"></td>
        <td id="OkHttp25"></td>
        <td id="OkHttp26"></td>
        <td id="OkHttp27"></td>
        <td id="OkHttp28"></td>
    </tr>
</table>
<h3>折线图</h3>
<h4>HttpUrlConnection性能对比曲线</h4>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder1" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder2" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder3" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>
<h4>HttpClient性能对比曲线</h4>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder4" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder5" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder6" style="width: 100%; height: 100%;">
    </div>
</div>
<h4>OkHttp性能对比曲线</h4>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder7" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder8" style="width: 100%; height: 100%;">
    </div>
</div>
<br/>

<div style="width: 1000px; height: 600px; text-align: center; margin: 10px">
    <div id="flot-placeholder9" style="width: 100%; height: 100%;">
    </div>
</div>

<a href="/IOS.html">IOS 性能测试报告</a>
</body>
<script>
    /*
     * 解析HttpUrlConnetion数据
     * */
    var versions = 2 + 1;
    var classname_HU = "URLConnection";
    var flag_HU = Array();
    var srcData_HU = Array();
    var mathData_HU = Array();
    var srcFile_HU = Array();

    for (var i = 0; i < versions; i++) {

        flag_HU[i] = false;
        srcData_HU[i] = Array();
        mathData_HU[i] = Array();
        srcFile_HU[i] = "/data/android/" + classname_HU + "_" + i + ".csv";

    }
    d3.csv(srcFile_HU[0], function (data) {
        //no sdk cpu,mem,duration source data
        srcData_HU[0] = parseData(data);
        flag_HU[0] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile_HU[1], function (data) {
        srcData_HU[1] = parseData(data);
        flag_HU[1] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile_HU[2], function (data) {
        srcData_HU[2] = parseData(data);
        flag_HU[2] = true;
        //console.log(srcData[i]);
    });

    /*
     * HttpUrlConnetion数据解析结束
     * */


    /*
     * 解析HttpClient数据
     * */

    var flag = Array();
    var srcData = Array();
    var mathData = Array();
    var srcFile = Array();

    //
    var classname = "HttpClient";

    for (var i = 0; i < versions; i++) {

        flag[i] = false;
        srcData[i] = Array();
        mathData[i] = Array();
        srcFile[i] = "/data/android/" + classname + "_" + i + ".csv";

    }
    d3.csv(srcFile[0], function (data) {
        //no sdk cpu,mem,duration source data
        srcData[0] = parseData(data);
        flag[0] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile[1], function (data) {
        srcData[1] = parseData(data);
        flag[1] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile[2], function (data) {
        srcData[2] = parseData(data);
        flag[2] = true;
        //console.log(srcData[i]);
    });
    /*
     *OKHttp数据解析开始
     * */
    var flag_OH = Array();
    var srcData_OH = Array();
    var mathData_OH = Array();
    var srcFile_OH = Array();

    var classname_OH = "OkHttp";

    for (var i = 0; i < versions; i++) {

        flag_OH[i] = false;
        srcData_OH[i] = Array();
        mathData_OH[i] = Array();
        srcFile_OH[i] = "/data/android/" + classname_OH + "_" + i + ".csv";

    }
    d3.csv(srcFile_OH[0], function (data) {
        //no sdk cpu,mem,duration source data
        srcData_OH[0] = parseData(data);
        flag_OH[0] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile_OH[1], function (data) {
        srcData_OH[1] = parseData(data);
        flag_OH[1] = true;
        //console.log(srcData[i]);
    });
    d3.csv(srcFile_OH[2], function (data) {
        srcData_OH[2] = parseData(data);
        flag_OH[2] = true;
        //console.log(srcData[i]);
    });
    /*
     * OkHttp解析结束
     * */
    function clock() {
        //var t=new Date();
        // document.getElementById("clock").value=t;

        if (flag[0] && flag[1] && flag[2] && flag_HU[0] && flag_HU[1] && flag_HU[2] && flag_OH[0] && flag_OH[1] && flag_OH[2]) {

            isFinished = window.clearInterval(isFinished);


            //data ready, start handling

            setData_HU(classname_HU, 0);
            setData_HU(classname_HU, 1);
            setData_HU(classname_HU, 2);

            setData(classname, 0);
            setData(classname, 1);
            setData(classname, 2);

            setData_OH(classname_OH, 0);
            setData_OH(classname_OH, 1);
            setData_OH(classname_OH, 2);

//            displayData(
//                    srcData_HU[0], srcData_HU[1], srcData_HU[2],
//                    srcData[0], srcData[1], srcData[2],
//                    srcData_OH[0], srcData_OH[1], srcData_OH[2]
//            );
            displayData2(srcData_HU[0], srcData_HU[1], srcData_HU[2], "flot-placeholder1", "flot-placeholder2", "flot-placeholder3");
            displayData2(srcData[0], srcData[1], srcData[2], "flot-placeholder4", "flot-placeholder5", "flot-placeholder6");
            displayData2(srcData_OH[0], srcData_OH[1], srcData_OH[2], "flot-placeholder7", "flot-placeholder8", "flot-placeholder9");

        }
    }

    var isFinished = self.setInterval(clock, 50);

    var previousPoint = null, previousLabel = null;

</script>
</html>
